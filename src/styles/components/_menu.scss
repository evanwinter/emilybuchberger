.menu-wrapper {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100vh;

  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;

  transition: width 500ms ease, height 500ms ease;

  .menu {
    display: flex;
    align-items: center;
  }

  nav {
    position: relative;
    z-index: $layer-0;
    display: flex;
    justify-content: flex-start;
    flex-direction: column;

    &[data-last-hovered="about"]     { #circle { background-color: $red;       }}
    &[data-last-hovered="portfolio"] { #circle { background-color: $lightpink; }}
    &[data-last-hovered="things"]    { #circle { background-color: $green;     }}

    &:hover {
      &[data-last-hovered="about"]     {
        .site-nav-link { color: $white; }
      }
      &[data-last-hovered="portfolio"] {
        .site-nav-link { color: $red; }
      }
      &[data-last-hovered="things"]    {
        .site-nav-link { color: $white; }
      }
      .site-nav-link:not(:hover) {
        opacity: 0;
      }
    }
  }

  .site-nav-link {
    color: $red;
    @include text-style(menu);
    text-decoration: none;
    height: $menu-link-height;
    line-height: 1;
    z-index: inherit;

    transition: color     500ms ease,
                opacity   500ms ease,
                height    500ms ease,
                font-size 500ms ease,
                margin    500ms ease;
  }

  #circle {
    width: 200px;
    height: 200px;
    border-radius: 100%;
    z-index: $layer-1;
    pointer-events: none;
    background-color: transparent;

    position: fixed;
    left:   $circle-position-left;
    bottom: $circle-position-bottom;

    transition: background-color 500ms ease;
  } 


  &[data-is-minimized="true"] {
    height: $menu-link-height * 1.6;
    width: 300px;

    nav .site-nav-link {
      color: $black;
      font-size: 2rem;
      font-weight: 600;
    }

    #back-link {
      opacity: 1;
      pointer-events: all;
      transform: translateY(0);
    }

    .site-nav-link:not(.active) {
      opacity: 0;
      height: 1px;
      pointer-events: none;
    }

    .site-nav-link {
      margin-left: 2rem;
      height: $menu-compact-link-height;
      color: $black !important;
      &.active {
        opacity: 1 !important;
      }
    }
  }

  #back-link {
    position: fixed;
    left: $gutter-size;
    top: 2.3rem;
    width: 24px;
    height: 24px;
    transform: translateY(2rem);
    opacity: 0;
    cursor: pointer;
    pointer-events: none;

    z-index: 10;

    transition: opacity 500ms ease, transform 500ms ease;

    svg {
      transition: fill 500ms ease;
    }
  }
}